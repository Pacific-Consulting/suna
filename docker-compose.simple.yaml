# ============================================================================
# SUNA DOCKER COMPOSE - SIMPLIFIED LOCAL DEVELOPMENT
# ============================================================================
# This simplified compose file is for quick local development with minimal
# external dependencies. It only runs Redis locally - all other services
# (backend, frontend) run natively on your machine for easier debugging.
#
# Perfect for:
# - Quick development setup
# - Using local Supabase (npx supabase start)
# - Debugging with hot reload
#
# Quick Start:
#   docker compose -f docker-compose.simple.yaml up -d
#
# Then run backend and frontend manually:
#   cd backend && uv run api.py
#   cd frontend && npm run dev
# ============================================================================

services:
  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data
      - ./backend/services/docker/redis.conf:/usr/local/etc/redis/redis.conf:ro
    command: redis-server /usr/local/etc/redis/redis.conf --save 60 1 --loglevel warning
    healthcheck:
      test: ["CMD", "redis-cli", "ping"]
      interval: 10s
      timeout: 5s
      retries: 3

volumes:
  redis_data:
